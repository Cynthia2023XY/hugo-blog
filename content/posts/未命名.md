---
share: true
title: obsidian-envelope插件设置详解
date: 
description: envelope插件用于将obsidian库中的文档一键推送到github的`content/posts`文件夹, 并且自动对obsidian格式的markdown语法进行正则表达式替换，使其能够正常被hugo网站解析为html
tags:
  - review_knowledge_obsidian
featured_image: ""
images: /images/notebook.jpg
categories: obsidian
comment: false
draft: false
---

#review/knowledge/obsidian 


---
>envelope插件用于将obsidian库中的文档一键推送到github的`content/posts`文件夹
>并且自动对obsidian格式的markdown语法进行正则表达式替换，使其能够正常被hugo网站解析为html


---
## 正则表达式替换

### 正则表达式替换完整代码
```json
"censorText": [
      {
        "entry": "/\\]\\(([^)\\.]+)\\.md/",
        "replace": "]({{< relref \"$1.md\" >}}",
        "flags": "",
        "after": true,
        "inCodeBlocks": false
      },
      {
        "entry": "/cover\\.image/",
        "replace": "cover:\\n    image",
        "flags": "",
        "after": false
      },
      {
        "entry": "/\\]\\(([^/\\)]+?)\\..(png|jpg|jpeg|webp|gif)/",
        "replace": "](/images/$1.$2",
        "flags": "",
        "after": true
      },
      {
        "entry": "/\\!\\[\\[([^/\\]]+?)\\.(png|jpg|jpeg|webp|gif)\\          (\\d+)(x(\\d+))?\\]\\]/",
        "replace": "{{< figure src=\"/images/$1.$2\"  width=\"$3\" height=\"$5\">}}",
        "flags": "",
        "after": false
      },
      {
        "entry": "/\\!\\[\\[([^/\\]]+?)\\.(png|jpg|jpeg|webp|gif)\\          ([^\\          ]*?)(\\          (\\d+)(x(\\d+))?)?\\]\\]/",
        "replace": "{{< figure src=\"/images/$1.$2\" caption=\"$3\" width=\"$5\" height=\"$7\">}}",
        "flags": "",
        "after": false
      }
```

---
### 1 将markdown链接替换为hugo格式：通过`](`定位
```json
"entry": "/\\]\\(([^)\\.]+)\\.md/",
"replace": "]({{< relref \"$1.md\" >}}"
```
**首先是匹配目标字符串：`"/\\]\\(([^)\\.]+)\\.md/"`**
`/`          `\\]`          `\\(`          `([^)\\.]+)`          `\\.`          `md/`
`\\]` 匹配字符`]`  (因为`]`是正则匹配的特殊字符，所以需要反斜杠转义)
`\\)` 匹配字符`(`  (因为`(`是特殊字符所以需要反斜杠转义)

`([^)\\.]+)`这是一个**捕获组**，匹配并捕获以下模式:
	`[^)\\.]`：匹配除了 `)` 和 `.` 之外的任意字符
	`[^...]` 表示匹配不在括号中的任意字符。
	`+`：表示匹配1次或多次前面的字符或模式

`\\.` 匹配字符`.`  (因为`.`是特殊字符所以需要反斜杠转义)

`md`匹配`md`

最后用开头的`/`和结尾的`/`把整个正则表达式包起来
